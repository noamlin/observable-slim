function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ObservableSlim=function(){var e=[],r=[],t=[],n=[],o=null,a=function a(l,s,i,u){var f=i||null,c=u||[{target:l,property:""}];e.push(c),l instanceof Array&&(l.__length=l.length);var v=[],b=function(e,r,t){for(var n="",o=null,a=0;a<c.length;a++)o instanceof Array&&!isNaN(c[a].property)&&(c[a].property=o.indexOf(c[a].target)),n=n+"."+c[a].property,o=c[a].target;return n=(n=n+"."+r).substring(2),!0===t&&(n="/"+n.replace(/\./g,"/")),n},p=-1,g=function(){if(!0!==f.paused)if(!0===s)clearTimeout(p),p=setTimeout((function(){var e=v.slice(0);v=[];for(var r=0;r<f.observers.length;r++)f.observers[r](e)}),10);else{var e=v.slice(0);v=[];for(var r=0;r<f.observers.length;r++)f.observers[r](e)}},y={get:function(e,r){switch(r){case"__getTarget":return e;case"__isProxy":return!0;case"__getParent":return function(e){if(void 0===e)e=1;var r=b(0,"__getParent").split(".");return r.splice(-(e+1),e+1),function(e,r){return r.split(".").reduce((function(e,r){return e?e[r]:void 0}),e||self)}(f.parentProxy,r.join("."))};case"__getPath":return b(0,"__getParent").slice(0,-12)}var o=e[r];if(e instanceof Date&&o instanceof Function&&null!==o)return o.bind(e);if(o instanceof Object&&null!==o&&e.hasOwnProperty(r)){if(!0===o.__isProxy&&(o=o.__getTarget),o.__targetPosition>-1&&null!==t[o.__targetPosition])for(var l=n[o.__targetPosition],i=0,u=l.length;i<u;i++)if(f===l[i].observable)return l[i].revocableProxy.proxy;var v=c.slice(0);return v.push({target:o,property:r}),a(o,s,f,v)}return o},deleteProperty:function(e,r){var a=!0;o===P&&(a=!1,o=null);var l=Object.assign({},e);if(v.push({type:"delete",target:e,property:r,newValue:null,previousValue:l[r],currentPath:b(0,r),jsonPointer:b(0,r,!0),proxy:P}),!0===a){f.changesPaused||delete e[r];for(var s=0,i=t.length;s<i&&e!==t[s];s++);for(var u=n[s]||[],c=u.length;c--;)u[c].revocableProxy.proxy!==P&&(o=u[c].revocableProxy.proxy,delete u[c].revocableProxy.proxy[r])}return g(),!0},set:function(e,r,a,l){a&&a.__isProxy&&(a=a.__getTarget);var s=!0;o===P&&(s=!1,o=null);var i=e[r];if(i!==a||!1===s||"length"===r&&e instanceof Array&&e.__length!==a){var u=!0,c=_typeof(i),p="update";if("undefined"===c&&(p="add"),v.push({type:p,target:e,property:r,newValue:a,previousValue:l[r],currentPath:b(0,r),jsonPointer:b(0,r,!0),proxy:P}),"length"===r&&e instanceof Array&&e.__length!==a&&(v[v.length-1].previousValue=e.__length,e.__length=a),!0===s){f.changesPaused||(e[r]=a),u=!1;for(var y=e.__targetPosition,h=n[y].length;h--;)if(f===n[y][h].observable&&null!==t[n[y][h].observable.parentTarget.__targetPosition]){u=!0;break}if(u){for(var _=n[y],x=0,d=_.length;x<d;x++)_[x].revocableProxy.proxy!==P&&(o=_[x].revocableProxy.proxy,_[x].revocableProxy.proxy[r]=a);setTimeout((function(){if("object"===c&&null!==i){for(var r=Object.keys(e),o=0,a=r.length;o<a;o++)if(e[r[o]]===i)return;var l=!1;if(function e(r){for(var t=Object.keys(r),n=0,o=t.length;n<o;n++){var a=r[t[n]];if(a instanceof Object&&null!==a&&e(a),a===i)return void(l=!0)}}(e),!0===l)return;!function e(r){for(var o=Object.keys(r),a=0,l=o.length;a<l;a++){var s=r[o[a]];s instanceof Object&&null!==s&&e(s)}var i=-1;for(a=0,l=t.length;a<l;a++)if(r===t[a]){i=a;break}if(i>-1){for(var u=n[i],c=u.length;c--;)if(f===u[c].observable){u.splice(c,1);break}0==u.length&&(t[i]=null)}}(i)}}),2e3)}}u&&g()}return!0}},h=l.__targetPosition;h>-1||Object.defineProperty(l,"__targetPosition",{value:t.length,writable:!1,enumerable:!1,configurable:!1});var _=Proxy.revocable(l,y),P=_.proxy;null===f&&(f={parentTarget:l,domDelay:s,parentProxy:P,observers:[],paused:!1,path:c,changesPaused:!1},r.push(f));var x={target:l,revocableProxy:_,observable:f};return h>-1?(null===t[h]&&(t[h]=l),n[h].push(x)):(t.push(l),n.push([x])),P};return{create:function(e,r,t){if(!0===e.__isProxy)e=e.__getTarget;var n=a(e,r);return"function"==typeof t&&this.observe(n,t),function e(r){for(var t=r.__getTarget,n=Object.keys(t),o=0,a=n.length;o<a;o++){var l=n[o];t[l]instanceof Object&&null!==t[l]&&e(r[l])}}(n),n},observe:function(e,t){for(var n=r.length;n--;)if(r[n].parentProxy===e){r[n].observers.push(t);break}},pause:function(e){for(var t=r.length,n=!1;t--;)if(r[t].parentProxy===e){r[t].paused=!0,n=!0;break}if(0==n)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},resume:function(e){for(var t=r.length,n=!1;t--;)if(r[t].parentProxy===e){r[t].paused=!1,n=!0;break}if(0==n)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(e){for(var t=r.length,n=!1;t--;)if(r[t].parentProxy===e){r[t].changesPaused=!0,n=!0;break}if(0==n)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(e){for(var t=r.length,n=!1;t--;)if(r[t].parentProxy===e){r[t].changesPaused=!1,n=!0;break}if(0==n)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(e){for(var o=null,a=!1,l=r.length;l--;)if(r[l].parentProxy===e){o=r[l],a=!0;break}for(var s=n.length;s--;)for(var i=n[s].length;i--;)n[s][i].observable===o&&(n[s][i].observable.observers.splice(0,n[s][i].observable.observers.length),n[s][i].revocableProxy.revoke(),n[s].splice(i,1),0===n[s].length&&(t[s]=null));!0===a&&r.splice(l,1)}}}();try{module.exports=ObservableSlim}catch(e){}