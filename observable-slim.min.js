function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ObservableSlim=function(){var e=[],r=[],t=[],o=[],n=null,a=function a(l,s,i,u){var f=i||null,c=u||[{target:l,property:""}];e.push(c),l instanceof Array&&(l.__length=l.length);var p=[],b=function(e,r,t){for(var o="",n=null,a=0;a<c.length;a++)n instanceof Array&&!isNaN(c[a].property)&&(c[a].property=n.indexOf(c[a].target)),o=o+"."+c[a].property,n=c[a].target;return o=(o=o+"."+r).substring(2),!0===t&&(o="/"+o.replace(/\./g,"/")),o},v=-1,g=function(){if(!0!==f.stopped&&!0!==f.paused){var e=function(){var e=p.slice(0);p=[];for(var r=0;r<f.observers.length;r++)f.observers[r](e)};!0===s?(clearTimeout(v),v=setTimeout(e,10)):e()}},y={get:function(e,r){switch(r){case"__getTarget":return e;case"__isProxy":return!0;case"__getParent":return function(e){if(void 0===e)e=1;var r=b(0,"__getParent").split(".");return r.splice(-(e+1),e+1),function(e,r){return r.split(".").reduce((function(e,r){return e?e[r]:void 0}),e||self)}(f.parentProxy,r.join("."))};case"__getPath":return b(0,"__getParent").slice(0,-12)}var n=e[r];if(e instanceof Date&&n instanceof Function&&null!==n)return n.bind(e);if(n instanceof Object&&null!==n&&e.hasOwnProperty(r)){if(!0===n.__isProxy&&(n=n.__getTarget),n.__targetPosition>-1&&null!==t[n.__targetPosition])for(var l=o[n.__targetPosition],i=0,u=l.length;i<u;i++)if(f===l[i].observable)return l[i].revocableProxy.proxy;var p=c.slice(0);return p.push({target:n,property:r}),a(n,s,f,p)}return n},deleteProperty:function(e,r){var a=!0;n===P&&(a=!1,n=null);var l=Object.assign({},e);if(f.stopped||p.push({type:"delete",target:e,property:r,newValue:null,previousValue:l[r],currentPath:b(0,r),jsonPointer:b(0,r,!0),proxy:P}),!0===a){f.changesPaused||delete e[r];for(var s=0,i=t.length;s<i&&e!==t[s];s++);for(var u=o[s]||[],c=u.length;c--;)u[c].revocableProxy.proxy!==P&&(n=u[c].revocableProxy.proxy,delete u[c].revocableProxy.proxy[r])}return g(),!0},set:function(e,r,a,l){a&&a.__isProxy&&(a=a.__getTarget);var s=!0;n===P&&(s=!1,n=null);var i=e[r];if(i!==a||!1===s||"length"===r&&e instanceof Array&&e.__length!==a){var u=!0,c=_typeof(i),v="update";if("undefined"===c&&(v="add"),f.stopped||(p.push({type:v,target:e,property:r,newValue:a,previousValue:l[r],currentPath:b(0,r),jsonPointer:b(0,r,!0),proxy:P}),"length"===r&&e instanceof Array&&e.__length!==a&&(p[p.length-1].previousValue=e.__length,e.__length=a)),!0===s){f.changesPaused||(e[r]=a),u=!1;for(var y=e.__targetPosition,h=o[y].length;h--;)if(f===o[y][h].observable&&null!==t[o[y][h].observable.parentTarget.__targetPosition]){u=!0;break}if(u){for(var _=o[y],d=0,x=_.length;d<x;d++)_[d].revocableProxy.proxy!==P&&(n=_[d].revocableProxy.proxy,_[d].revocableProxy.proxy[r]=a);"object"===c&&null!==i&&setTimeout((function(){for(var r=Object.keys(e),n=0,a=r.length;n<a;n++)if(e[r[n]]===i)return;var l=!1;!function e(r){for(var t=Object.keys(r),o=0,n=t.length;o<n;o++){var a=r[t[o]];if(a instanceof Object&&null!==a&&e(a),a===i)return void(l=!0)}}(e),!0!==l&&function e(r){for(var n=Object.keys(r),a=0,l=n.length;a<l;a++){var s=r[n[a]];s instanceof Object&&null!==s&&e(s)}var i=-1;for(a=0,l=t.length;a<l;a++)if(r===t[a]){i=a;break}if(i>-1){for(var u=o[i],c=u.length;c--;)if(f===u[c].observable){u.splice(c,1);break}0==u.length&&(t[i]=null)}}(i)}),2e3)}}u&&g()}return!0}},h=l.__targetPosition;h>-1||Object.defineProperty(l,"__targetPosition",{value:t.length,writable:!1,enumerable:!1,configurable:!1});var _=Proxy.revocable(l,y),P=_.proxy;null===f&&(f={parentTarget:l,domDelay:s,parentProxy:P,observers:[],stopped:!1,paused:!1,path:c,changesPaused:!1},r.push(f));var d={target:l,revocableProxy:_,observable:f};return h>-1?(null===t[h]&&(t[h]=l),o[h].push(d)):(t.push(l),o.push([d])),P};return{create:function(e,r,t){if(!0===e.__isProxy)e=e.__getTarget;var o=a(e,r);return"function"==typeof t&&this.observe(o,t),function e(r){for(var t=r.__getTarget,o=Object.keys(t),n=0,a=o.length;n<a;n++){var l=o[n];t[l]instanceof Object&&null!==t[l]&&e(r[l])}}(o),o},observe:function(e,t){for(var o=r.length;o--;)if(r[o].parentProxy===e){r[o].observers.push(t);break}},pause:function(e){for(var t=r.length,o=!1;t--;)if(r[t].parentProxy===e){r[t].paused=!0,o=!0;break}if(0==o)throw new Error("ObseravableSlim could not pause observable -- matching proxy not found.")},stop:function(e){for(var t=r.length,o=!1;t--;)if(r[t].parentProxy===e){r[t].stopped=!0,o=!0;break}if(0==o)throw new Error("ObseravableSlim could not stop observable -- matching proxy not found.")},resume:function(e){for(var t=r.length,o=!1;t--;)if(r[t].parentProxy===e){r[t].paused=!1,r[t].stopped=!1,o=!0;break}if(0==o)throw new Error("ObseravableSlim could not resume observable -- matching proxy not found.")},pauseChanges:function(e){for(var t=r.length,o=!1;t--;)if(r[t].parentProxy===e){r[t].changesPaused=!0,o=!0;break}if(0==o)throw new Error("ObseravableSlim could not pause changes on observable -- matching proxy not found.")},resumeChanges:function(e){for(var t=r.length,o=!1;t--;)if(r[t].parentProxy===e){r[t].changesPaused=!1,o=!0;break}if(0==o)throw new Error("ObseravableSlim could not resume changes on observable -- matching proxy not found.")},remove:function(e){for(var n=null,a=!1,l=r.length;l--;)if(r[l].parentProxy===e){n=r[l],a=!0;break}for(var s=o.length;s--;)for(var i=o[s].length;i--;)o[s][i].observable===n&&(o[s][i].observable.observers.splice(0,o[s][i].observable.observers.length),o[s][i].revocableProxy.revoke(),o[s].splice(i,1),0===o[s].length&&(t[s]=null));!0===a&&r.splice(l,1)}}}();try{module.exports=ObservableSlim}catch(e){}